<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삼육구상회 거래처 관리 대장</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide-icons"></script>
    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* 오더즈 컨셉에 맞는 녹색 계열을 기본 색상으로 지정 */
        :root {
            --primary-color: #22c55e; /* Tailwind green-500 */
            --primary-color-dark: #16a34a; /* Tailwind green-600 */
        }
        /* Noto Sans KR 폰트 적용 */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F3F4F6; /* 전체 배경색 */
        }
        /* 활성 탭(기간) 스타일 */
        .period-tab-active {
            background-color: var(--primary-color) !important;
            color: white !important;
            border-color: var(--primary-color) !important;
        }
        /* 활성 탭(내역/정산) 스타일 */
        .content-tab-active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 700;
        }
        /* 날짜 입력 필드 화살표 아이콘 커스텀 */
        input[type="date"]::-webkit-calendar-picker-indicator {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 24 24"><path fill="%2322c55e" d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/></svg>') no-repeat;
            cursor: pointer;
        }
        /* 숫자 입력 필드의 화살표 숨기기 */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
          -webkit-appearance: none; 
          margin: 0; 
        }
        input[type=number] {
          -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-start justify-center min-h-screen">

    <div class="max-w-md w-full bg-white shadow-lg">
        <header class="bg-white sticky top-0 z-10">
            <!-- 최상단 헤더 -->
            <div class="grid grid-cols-3 items-center p-4">
                <!-- Left Group -->
                <div class="flex justify-start">
                    <h1 class="text-lg font-bold text-green-600">오더즈</h1>
                </div>
                <!-- Center Group -->
                <div class="text-center">
                    <h2 class="text-2xl font-bold text-gray-800">우리농산</h2>
                </div>
                <!-- Right Group -->
                <div class="flex items-center space-x-2 text-sm justify-end">
                    <span>6,400P</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                </div>
            </div>
        </header>
        
        <main>
            <!-- 상단 정보 영역 -->
            <div class="p-4 flex items-center border-t border-gray-200">
                <div class="w-16 h-16 bg-gray-200 rounded-full flex-shrink-0 flex items-center justify-center mr-4">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-gray-800">삼육구상회</h2>
                    <div class="mt-1 text-sm text-gray-500">
                        <p>주소: 경상남도 창원시 마산합포구 월영동11길 29</p>
                        <a href="#" class="text-green-500 font-medium underline">정보변경</a>
                    </div>
                </div>
            </div>

            <!-- 메인 컨텐츠 (필터 + 내역) -->
            <div>
                <!-- 날짜 필터 -->
                <div class="p-4 border-y border-gray-200">
                    <div class="grid grid-cols-5 gap-2 text-center text-sm">
                        <button class="period-tab-button period-tab-active rounded-md py-1">오늘</button>
                        <button class="period-tab-button border border-gray-300 rounded-md py-1">금주</button>
                        <button class="period-tab-button border border-gray-300 rounded-md py-1">전주</button>
                        <button class="period-tab-button border border-gray-300 rounded-md py-1">당월</button>
                        <button class="period-tab-button border border-gray-300 rounded-md py-1">전월</button>
                    </div>
                    <div class="flex items-center justify-between space-x-2 text-sm mt-3">
                        <input type="date" class="date-input border border-gray-300 rounded-md p-2 w-full text-center">
                        <span>~</span>
                        <input type="date" class="date-input border border-gray-300 rounded-md p-2 w-full text-center">
                        <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md flex-shrink-0">조회</button>
                    </div>
                </div>

                <!-- 탭 네비게이션 -->
                <div class="flex border-b border-gray-200">
                    <button data-tab="transactions" class="content-tab content-tab-active flex-1 py-3 text-center text-gray-500 font-medium">거래내역</button>
                    <button data-tab="settlements" class="content-tab flex-1 py-3 text-center text-gray-500 font-medium">정산내역</button>
                    <button data-tab="credit" class="content-tab flex-1 py-3 text-center text-gray-500 font-medium">여신관리</button>
                </div>

                <!-- 탭 컨텐츠 -->
                <div class="p-4">
                    <!-- 날짜별 거래내역 -->
                    <div id="transactions" class="tab-panel space-y-3">
                        <p class="font-bold text-lg" id="display-date-transaction"></p>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-4 py-3 w-2/5">품명</th>
                                        <th scope="col" class="px-2 py-3 text-center">규격</th>
                                        <th scope="col" class="px-2 py-3 text-center">수량</th>
                                        <th scope="col" class="px-4 py-3 text-right">금액</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b"><td class="px-4 py-3 font-medium text-gray-900">무우(낱개)</td><td class="px-2 py-3 text-center">[소분]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">25,600</td></tr>
                                    <tr class="bg-gray-50 border-b"><td class="px-4 py-3 font-medium text-gray-900">대파/ (단)</td><td class="px-2 py-3 text-center">[EA]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">3,800</td></tr>
                                    <tr class="bg-white border-b"><td class="px-4 py-3 font-medium text-gray-900">깐마늘大_1kg</td><td class="px-2 py-3 text-center">[EA]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">9,800</td></tr>
                                    <tr class="bg-gray-50 border-b"><td class="px-4 py-3 font-medium text-gray-900">가지(특) (5kg)</td><td class="px-2 py-3 text-center">[BOX]</td><td class="px-2 py-3 text-center">2</td><td class="px-4 py-3 text-right">25,600</td></tr>
                                    <tr class="bg-white border-b text-red-500"><td class="px-4 py-3 font-medium">가지(특) (5kg)</td><td class="px-2 py-3 text-center">[BOX]</td><td class="px-2 py-3 text-center">-2</td><td class="px-4 py-3 text-right">-25,600</td></tr>
                                    <tr class="bg-blue-50 border-b"><td class="px-4 py-3 font-medium text-blue-800">가지_특_10kg (대체)</td><td class="px-2 py-3 text-center">[BOX]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">12,400</td></tr>
                                    <tr class="bg-white border-b"><td class="px-4 py-3 font-medium text-gray-900">부추/특 (500g단)</td><td class="px-2 py-3 text-center">[EA]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">2,800</td></tr>
                                    <tr class="bg-gray-50 border-b"><td class="px-4 py-3 font-medium text-gray-900">숙주 (3.5kg)</td><td class="px-2 py-3 text-center">[BOX]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">5,800</td></tr>
                                    <tr class="bg-white"><td class="px-4 py-3 font-medium text-gray-900">장길산김치_10kg_투명_중국산</td><td class="px-2 py-3 text-center">[BOX]</td><td class="px-2 py-3 text-center">1</td><td class="px-4 py-3 text-right">16,000</td></tr>
                                </tbody>
                                <tfoot class="border-t-2 border-gray-200">
                                    <tr class="font-bold text-gray-800">
                                        <td colspan="3" class="px-4 py-3 text-center">총 합계</td>
                                        <td class="total-amount px-4 py-3 text-right text-green-600"></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>

                    <!-- 날짜별 정산내역 -->
                    <div id="settlements" class="tab-panel hidden space-y-3">
                         <p class="font-bold text-lg" id="display-date-settlement"></p>
                         <div class="space-y-2 text-gray-800 mt-2 text-base">
                            <div class="flex justify-between items-center p-2"><span class="font-bold">전잔</span><span class="font-bold">0원</span></div>
                            <div>
                                <div class="flex justify-between items-center p-2"><span class="font-bold">판매</span><span class="font-bold text-blue-600">76,200원</span></div>
                                <div class="pl-8 space-y-1 text-sm text-gray-500">
                                    <div class="flex justify-between items-center"><span>주문금액</span><span>82,600원</span></div>
                                    <div class="flex justify-between items-center"><span>반품.취소</span><span>-25,600원</span></div>
                                    <div class="flex justify-between items-center"><span>추가주문</span><span>12,400원</span></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center p-2"><span class="font-bold">입금</span><span class="font-bold text-green-600">82,600원</span></div>
                                <div class="pl-8 space-y-1 text-sm text-gray-500">
                                    <div class="flex justify-between items-center"><span>카드입금</span><span>75,800원</span></div>
                                    <div class="flex justify-between items-center"><span>포인트</span><span>5,000원</span></div>
                                    <div class="flex justify-between items-center"><span>쿠폰사용</span><span>1,800원</span></div>
                                </div>
                            </div>
                            <div class="flex justify-between items-center border-t border-gray-300 pt-3 mt-3 p-2">
                                <span class="font-bold text-lg">후잔</span>
                                <div class="text-right">
                                    <span class="text-sm text-gray-500 font-normal">(예치금)</span>
                                    <span class="font-bold text-lg text-green-600 ml-1">6,400원</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 날짜별 여신관리 -->
                    <div id="credit" class="tab-panel hidden space-y-4">
                        <p class="font-bold text-lg" id="display-date-credit"></p>
                        
                        <!-- 계좌 정보 -->
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <div class="flex justify-between items-center text-sm">
                                <div class="font-medium text-gray-700">
                                    <span>농협은행</span>
                                    <span class="mx-1">|</span>
                                    <span id="account-number">302-1586-5706-41</span>
                                    <span class="mx-1">|</span>
                                    <span>우리농산</span>
                                </div>
                                <button class="text-xs bg-gray-200 text-gray-600 font-semibold py-1 px-2 rounded hover:bg-gray-300" onclick="copyToClipboard('302-1586-5706-41')">계좌복사</button>
                            </div>
                        </div>

                        <!-- 결제 섹션 -->
                        <div class="space-y-3">
                            <div class="flex items-center space-x-2">
                                <input type="number" placeholder="금액" class="border border-gray-300 rounded-md p-2 w-2/5 text-right">
                                <span class="text-gray-500 -mx-1">원</span>
                                <input type="text" placeholder="입금자명" class="border border-gray-300 rounded-md p-2 w-3/5">
                                <button class="bg-green-500 text-white font-bold py-2 px-3 rounded-md flex-shrink-0 whitespace-nowrap">입금통보</button>
                            </div>
                            <div class="flex justify-between items-center pt-1">
                                <div class="text-xs text-gray-500 space-y-1">
                                    <p>* 무통장 입금은 꼭 입금자명을 입력하시고 통보해주세요.</p>
                                    <p>* 예치금은 10,000원 이상부터 결제가 가능합니다.</p>
                                </div>
                                <button class="bg-gray-700 text-white font-bold py-2 px-4 rounded-md flex-shrink-0 whitespace-nowrap">카드결제</button>
                            </div>
                        </div>

                        <!-- 여신 정보 -->
                        <div class="space-y-2 text-base">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">외상한도</span>
                                <span class="font-semibold text-gray-800">0원</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">현 잔액</span>
                                <span class="font-semibold text-red-500">6,400원</span>
                            </div>
                        </div>

                        <!-- 입금 내역 -->
                        <div class="border-t border-gray-200 pt-4">
                            <h3 class="font-semibold text-gray-800 mb-2">입금 내역</h3>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between items-center bg-gray-50 p-3 rounded-lg">
                                    <div>
                                        <span class="text-gray-600">2025.07.26 10:31</span>
                                        <span class="text-gray-500 ml-2">(카드)</span>
                                    </div>
                                    <span class="font-semibold text-green-600">75,800원</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg opacity-0 transition-opacity duration-300">
        계좌번호가 복사되었습니다.
    </div>

    <script>
        window.onload = () => {
            const initApp = () => {
                // --- 날짜 관련 기능 ---
                const dateInputs = document.querySelectorAll('.date-input');
                const displayDateTransactionEl = document.getElementById('display-date-transaction');
                const displayDateSettlementEl = document.getElementById('display-date-settlement');
                const displayDateCreditEl = document.getElementById('display-date-credit');

                const setToday = () => {
                    const today = new Date();
                    const year = today.getFullYear();
                    const month = String(today.getMonth() + 1).padStart(2, '0');
                    const day = String(today.getDate()).padStart(2, '0');
                    const formattedDate = `${year}-${month}-${day}`;
                    
                    dateInputs.forEach(input => input.value = formattedDate);
                    
                    const displayFormat = `${year}.${month}.${day}`;
                    if(displayDateTransactionEl) displayDateTransactionEl.textContent = displayFormat;
                    if(displayDateSettlementEl) displayDateSettlementEl.textContent = displayFormat;
                    if(displayDateCreditEl) displayDateCreditEl.textContent = displayFormat;
                };

                // --- 탭 기능 (기간 선택) ---
                const periodTabs = document.querySelectorAll('.period-tab-button');
                periodTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        periodTabs.forEach(t => t.classList.remove('period-tab-active'));
                        tab.classList.add('period-tab-active');
                    });
                });

                // --- 탭 기능 (거래내역/정산내역/여신관리) ---
                const contentTabs = document.querySelectorAll('.content-tab');
                const tabPanels = document.querySelectorAll('.tab-panel');

                contentTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        contentTabs.forEach(t => t.classList.remove('content-tab-active'));
                        tab.classList.add('content-tab-active');

                        tabPanels.forEach(panel => panel.classList.add('hidden'));
                        const targetPanelId = tab.getAttribute('data-tab');
                        document.getElementById(targetPanelId).classList.remove('hidden');
                    });
                });
                
                // --- 합계 계산 기능 ---
                const calculateTotal = () => {
                    const amountCells = document.querySelectorAll('#transactions tbody td:last-child');
                    let totalAmount = 0;
                    amountCells.forEach(cell => {
                        const amount = parseInt(cell.textContent.replace(/,/g, ''), 10);
                        if (!isNaN(amount)) {
                            totalAmount += amount;
                        }
                    });

                    const totalElement = document.querySelector('.total-amount');
                    if (totalElement) {
                        totalElement.textContent = totalAmount.toLocaleString('ko-KR') + "원";
                    }
                };
                
                // --- 앱 초기화 실행 ---
                setToday();
                calculateTotal();
            };
            
            initApp();
        };

        // --- 클립보드 복사 및 토스트 알림 기능 ---
        function showToast(message) {
            const toast = document.getElementById('toast');
            if (toast) {
                toast.textContent = message;
                toast.style.opacity = 1;
                setTimeout(() => {
                    toast.style.opacity = 0;
                }, 2000); // 2초 후 사라짐
            }
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed'; 
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                showToast('계좌번호가 복사되었습니다.');
            } catch (err) {
                showToast('계좌번호 복사에 실패했습니다.');
            }
            document.body.removeChild(textarea);
        }
    </script>
</body>
</html>
