import React, { useState } from 'react';
import { Calculator, TrendingDown, Truck, Star, Phone, CheckCircle, Utensils, ClipboardList, X, Box, ThumbsUp, Medal, ArrowDown, Thermometer, Ruler, Gavel, AlertTriangle, Heart, Sun, Droplets, Mountain, ArrowRight } from 'lucide-react';

const SweetPotatoDetail = () => {
  const [showModal, setShowModal] = useState(false);
  const [selectedProduct, setSelectedProduct] = useState(null);
  const [purchaseSuccess, setPurchaseSuccess] = useState(false);

  const products = [
    {
      id: 1,
      name: "고구마 (소)",
      type: "호박고구마",
      tag: "호박고구마 / 서비스용",
      marketPrice: 25000, 
      salePrice: 10000, 
      imgUrl: "https://oneapp2.godohosting.com/1211_%EA%B3%A0%EA%B5%AC%EB%A7%88%ED%96%89%EC%82%AC/%EC%86%8C.jpg",
      boxInfo: "10kg",
      link: "https://orderz.kr/shop/item.php?it_id=102012144"
    },
    {
      id: 2,
      name: "고구마 못난이 A급",
      type: "호박고구마",
      tag: "호박고구마 / 가성비",
      marketPrice: 22000,
      salePrice: 11000,
      imgUrl: "https://oneapp2.godohosting.com/1211_%EA%B3%A0%EA%B5%AC%EB%A7%88%ED%96%89%EC%82%AC/%EB%AA%BB%EB%82%9C%EC%9D%B4.jpg",
      boxInfo: "10kg",
      rotation: "-rotate-90",
      link: "https://orderz.kr/shop/item.php?it_id=102012c144"
    },
    {
      id: 3,
      name: "고구마 긴긴특",
      type: "호박고구마",
      tag: "호박고구마 / 숯불용",
      marketPrice: 45000,
      salePrice: 18500,
      imgUrl: "https://oneapp2.godohosting.com/1211_%EA%B3%A0%EA%B5%AC%EB%A7%88%ED%96%89%EC%82%AC/%EA%B8%B4%EA%B8%B4%ED%8A%B9.jpg",
      boxInfo: "10kg",
      link: "https://orderz.kr/shop/item.php?it_id=102012120"
    },
    {
      id: 4,
      name: "고구마 긴긴중",
      type: "꿀고구마",
      tag: "꿀고구마 / 군고구마용",
      marketPrice: 38000,
      salePrice: 18500,
      imgUrl: "https://oneapp2.godohosting.com/1211_%EA%B3%A0%EA%B5%AC%EB%A7%88%ED%96%89%EC%82%AC/%EA%B8%B4%EA%B8%B4%EC%A4%91.jpg", 
      boxInfo: "10kg",
      rotation: "-rotate-90",
      link: "https://orderz.kr/shop/item.php?it_id=102012130"
    }
  ];

  const handleBuy = (product) => {
    if (product.link) {
        window.open(product.link, '_blank');
    } else {
        setSelectedProduct(product);
        setShowModal(true);
        setPurchaseSuccess(false);
    }
  };

  const confirmPurchase = () => {
    setPurchaseSuccess(true);
    setTimeout(() => {
      setShowModal(false);
      setPurchaseSuccess(false);
      setSelectedProduct(null);
    }, 2000);
  };

  const scrollToProducts = () => {
    const element = document.getElementById('product-list');
    if (element) element.scrollIntoView({ behavior: 'smooth' });
  };

  return (
    <div className="min-h-screen bg-white font-sans text-stone-800 break-keep">
      {/* 1. 메인 히어로 섹션 (황토밭 배경 복구) */}
      <header className="relative bg-amber-900 text-white py-20 md:py-24 overflow-hidden">
        {/* 배경 이미지: 실제 황토밭 수확 현장 */}
        <div 
            className="absolute inset-0 bg-cover bg-center opacity-50"
            style={{
                backgroundImage: "url('https://images.unsplash.com/photo-1591196853703-99b244799978?q=80&w=2940&auto=format&fit=crop')"
            }}
        ></div>
        
        {/* 그라데이션 오버레이: 텍스트 가독성을 위해 하단에서 검은색/갈색이 올라오도록 처리 */}
        <div className="absolute inset-0 bg-gradient-to-t from-amber-900/90 via-amber-900/40 to-black/30"></div>
        
        <div className="max-w-4xl mx-auto px-4 text-center relative z-10">
          <div className="inline-block border border-yellow-400 text-yellow-400 px-4 py-1 rounded-full text-sm font-bold mb-6 bg-black/30 backdrop-blur-sm">
            오늘 경매 상품 고구마
          </div>
          <h1 className="text-3xl md:text-5xl lg:text-6xl font-extrabold leading-tight mb-8 drop-shadow-xl text-white">
            일반 고구마와 차별화된 당도<br className="hidden md:block"/>
            <span className="text-yellow-400 md:ml-2">익산 황토 고구마</span>
          </h1>
          <p className="text-stone-100 text-base md:text-xl mb-10 leading-relaxed max-w-2xl mx-auto drop-shadow-md font-medium px-2">
            손님이 먼저 알아보는 퀄리티.<br className="hidden md:block"/>
            익산 황토밭에서 갓 캐낸 신선함 그대로,<br className="hidden md:block"/>
            <span className="text-white font-extrabold border-b-2 border-yellow-500">도매가 그대로</span> 사장님 가게로 직송합니다.
          </p>
          <div className="flex justify-center gap-4">
             <a 
                href="https://orderz.kr/shop/search.php?q=%EA%B3%A0%EA%B5%AC%EB%A7%88%ED%96%89%EC%82%AC"
                target="_blank"
                rel="noopener noreferrer"
                className="bg-yellow-500 hover:bg-yellow-400 text-amber-900 font-bold py-3 px-8 rounded-full shadow-lg transition-all transform hover:scale-105 inline-block text-center"
             >
                상품 보러가기
             </a>
          </div>
        </div>
      </header>

      {/* 2. 셀링 포인트 (아이콘 유지) */}
      <section className="py-16 md:py-20 bg-stone-50">
        <div className="max-w-5xl mx-auto px-4">
          <div className="text-center mb-12 md:mb-16">
            <h2 className="text-2xl md:text-3xl font-bold text-stone-900 mb-4">왜 '익산 황토'가 특별한가요?</h2>
            <p className="text-stone-600 text-sm md:text-base">일반 마사토나 진흙밭 고구마와는 때깔부터 다릅니다.</p>
          </div>

          <div className="grid md:grid-cols-3 gap-6 md:gap-8">
             {/* 포인트 1: 아이콘 */}
             <div className="bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center hover:border-red-200 transition-colors">
                <div className="w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center text-red-500 mb-6">
                  <Mountain size={32} />
                </div>
                <h3 className="text-lg md:text-xl font-bold mb-3">미네랄 폭탄, 붉은 황토</h3>
                <p className="text-stone-600 text-sm leading-relaxed">
                  익산의 비옥한 황토는 미네랄과 게르마늄이 풍부합니다.
                  이 영양분을 먹고 자라 <b>속살이 더 노랗고 당도가 월등히 높습니다.</b>
                </p>
             </div>

             {/* 포인트 2: 아이콘 (줄바꿈 수정됨) */}
             <div className="bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center hover:border-yellow-200 transition-colors">
                <div className="w-16 h-16 mx-auto bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 mb-6">
                  <Medal size={32} />
                </div>
                <h3 className="text-lg md:text-xl font-bold mb-3">박스에 찍힌<br />'명품(名品)' 인증</h3>
                <p className="text-stone-600 text-sm leading-relaxed">
                   아무 고구마나 담지 않습니다.<br/>
                   엄격한 선별 기준을 통과하여 <b>'명품' 금색 마크가 붙은 최상급</b>만 보내 드립니다.
                </p>
             </div>

             {/* 포인트 3: 아이콘 */}
             <div className="bg-white rounded-2xl p-8 shadow-sm border border-stone-100 text-center hover:border-stone-300 transition-colors">
                <div className="w-16 h-16 mx-auto bg-stone-100 rounded-full flex items-center justify-center text-stone-500 mb-6">
                  <Gavel size={32} />
                </div>
                <h3 className="text-lg md:text-xl font-bold mb-3">오늘 새벽 경매 낙찰</h3>
                <p className="text-stone-600 text-sm leading-relaxed">
                   창고에 묵혀둔 퍽퍽한 고구마가 아닙니다.<br/>
                   <b>오늘 새벽 경매장</b>에서 낙찰받은<br/>
                   가장 신선한 상태로 보내 드립니다.
                </p>
             </div>
          </div>
        </div>
      </section>

      {/* 3. 상품 리스트 (이미지 적용 유지) */}
      <section id="product-list" className="py-16 md:py-24 bg-white border-y border-stone-100">
        <div className="max-w-7xl mx-auto px-4">
          <div className="text-center mb-10 md:mb-12">
            <span className="text-red-600 font-bold tracking-widest text-xs md:text-sm uppercase">Order Now</span>
            <h3 className="text-2xl md:text-4xl font-extrabold text-stone-900 mt-2 mb-4">
              용도별 최적의 상품을 선택하세요
            </h3>
            <p className="text-stone-500 text-sm md:text-base">
              오늘 아침에 찍은 실제 사진입니다
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {products.map((product) => (
              <div key={product.id} className="group bg-stone-50 rounded-xl shadow-lg border border-stone-200 overflow-hidden flex flex-col hover:border-red-300 transition-colors h-full">
                {/* 상단 이미지 영역 */}
                <div className="h-56 md:h-64 bg-stone-100 relative overflow-hidden">
                   <img 
                     src={product.imgUrl} 
                     alt={product.name} 
                     className={`w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 ${product.rotation || ''}`}
                   />
                   <span className={`absolute top-4 left-4 text-white text-xs font-bold px-3 py-1 rounded z-10 ${product.type === '꿀고구마' ? 'bg-orange-600' : 'bg-yellow-600'}`}>
                     {product.type}
                   </span>
                </div>

                {/* 하단 상세 정보 */}
                <div className="p-5 md:p-6 flex flex-col flex-1 justify-between bg-white">
                  <div>
                    {/* 상품명과 규격을 나란히 배치 */}
                    <h4 className="text-lg md:text-xl font-bold text-stone-900 mb-6 flex items-baseline gap-2">
                        {product.name}
                        <span className="text-stone-500 text-sm font-normal">{product.boxInfo}</span>
                    </h4>
                  </div>

                  <div className="pt-4 border-t border-stone-100">
                     <div className="flex flex-col mb-4">
                        <span className="text-red-600 font-bold text-xs bg-red-50 px-2 py-0.5 rounded w-fit mb-1">경매 특가</span>
                        <div className="flex items-end gap-1">
                            <span className="text-xl md:text-2xl font-extrabold text-stone-900">
                                {product.salePrice.toLocaleString()}
                            </span>
                            <span className="text-sm md:text-base font-normal text-stone-500 mb-1">원</span>
                        </div>
                     </div>
                     <a 
                        href={product.link}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="w-full bg-stone-900 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition-all shadow-md flex items-center justify-center gap-2 text-sm md:text-base cursor-pointer decoration-0"
                     >
                        주문하기 <Utensils size={16} />
                     </a>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* 4. 고구마 보관법 & 효능 */}
      <section className="py-16 md:py-20 bg-stone-50">
         <div className="max-w-4xl mx-auto px-4">
            <div className="text-center mb-10 md:mb-12">
               <span className="bg-yellow-600 text-white text-xs font-bold px-3 py-1 rounded-full">HONEY TIP</span>
               <h3 className="text-2xl md:text-3xl font-bold mt-4 mb-2 text-stone-900">고구마 보관법 & 효능</h3>
               <p className="text-stone-500 text-sm md:text-base">사장님, 더 맛있게 내어 드리고 건강까지 챙기세요.</p>
            </div>

            <div className="grid md:grid-cols-2 gap-6 md:gap-8">
               {/* 보관법 */}
               <div className="bg-white p-6 md:p-8 rounded-2xl border border-stone-200 shadow-sm">
                  <h4 className="flex items-center gap-2 text-lg md:text-xl font-bold text-stone-800 mb-6">
                     <Thermometer className="text-red-500" /> 필수 보관 수칙
                  </h4>
                  <ul className="space-y-5">
                     <li className="flex gap-3 text-stone-700 text-sm md:text-base">
                        <CheckCircle size={20} className="text-red-500 flex-shrink-0 mt-1" />
                        <span><b>받자마자 박스 개봉</b><br/><span className="text-xs md:text-sm text-stone-500">수분이 날아가도록 신문지를 덮어 통풍이 잘 되는 곳에 두세요.</span></span>
                     </li>
                     <li className="flex gap-3 text-stone-700 text-sm md:text-base">
                        <CheckCircle size={20} className="text-red-500 flex-shrink-0 mt-1" />
                        <span><b>3~4일 후숙하면 당도 2배</b><br/><span className="text-xs md:text-sm text-stone-500">따뜻한 실내(12~15°C)에서 며칠 두시면 전분이 당분으로 변해 꿀맛이 됩니다.</span></span>
                     </li>
                     <li className="flex gap-3 text-stone-700 text-sm md:text-base">
                        <AlertTriangle size={20} className="text-red-600 flex-shrink-0 mt-1" />
                        <span className="text-red-700 font-bold">절대 냉장 보관 금지<br/><span className="text-xs md:text-sm font-normal text-stone-500">냉해를 입어 속이 검게 변하고 금방 썩습니다. 반드시 상온 보관해 주세요.</span></span>
                     </li>
                  </ul>
               </div>

               {/* 익산 황토 고구마의 효능 */}
               <div className="bg-yellow-50 p-6 md:p-8 rounded-2xl border border-yellow-100 shadow-sm">
                  <h4 className="flex items-center gap-2 text-lg md:text-xl font-bold text-yellow-800 mb-6">
                     <Heart className="text-yellow-600" /> 익산 황토 고구마의 효능
                  </h4>
                  <div className="text-stone-700 space-y-4">
                     <p className="leading-relaxed bg-white/60 p-3 rounded-lg text-sm md:text-base">
                        <span className="font-bold text-yellow-700 block mb-1">항산화 효과 탁월</span>
                        익산 황토의 풍부한 성분을 흡수하여 <b>베타카로틴(노화 방지)</b> 함량이 일반 고구마보다 높습니다.
                     </p>
                     <p className="leading-relaxed bg-white/60 p-3 rounded-lg text-sm md:text-base">
                        <span className="font-bold text-yellow-700 block mb-1">천연 알칼리성 식품</span>
                        산성화된 현대인의 몸을 중화시켜 주며, 풍부한 식이섬유로 장 건강과 다이어트에 도움을 줍니다.
                     </p>
                     <p className="leading-relaxed bg-white/60 p-3 rounded-lg text-sm md:text-base">
                        <span className="font-bold text-yellow-700 block mb-1">깨끗한 껍질까지</span>
                        무공해 황토에서 자라 껍질이 얇고 영양이 많습니다. 깨끗이 씻어 껍질째 드셔도 좋습니다.
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </section>

      {/* 5. 하단 CTA (다른 경매 상품 보기) - 추가됨 */}
      <section className="py-20 bg-amber-900 text-white text-center">
        <div className="max-w-4xl mx-auto px-4">
            <h3 className="text-2xl md:text-3xl font-bold mb-4">
                오늘 낙찰된 다른 경매 상품들도 확인해 보세요
            </h3>
            <p className="text-stone-200 text-sm md:text-base mb-8 leading-relaxed">
                오더즈는 매일 새벽 경매 받은 신선한 농산물을<br/>
                중간 유통 없이 <b>도매가로 공급해 드립니다.</b>
            </p>
            <a 
                href="https://orderz.kr/?type=1"
                target="_blank"
                rel="noopener noreferrer"
                className="bg-yellow-500 hover:bg-yellow-400 text-amber-900 font-bold py-4 px-10 rounded-full shadow-lg transition-all transform hover:scale-105 inline-flex items-center gap-2"
            >
                오늘의 다른 경매 낙찰 상품 보기 <ArrowRight size={20}/>
            </a>
        </div>
      </section>
      
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `}</style>
    </div>
  );
};

export default SweetPotatoDetail;
